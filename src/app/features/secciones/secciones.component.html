<div class="header">
  <h2>Secciones</h2>
</div>

<div *ngIf="error()" class="state state--error">{{ error() }}</div>

<ng-container *ngIf="hasClientes(); else emptyTpl">
  <div class="h-scroll">
    <div
      class="card"
      *ngFor="let c of clientes()"
      (click)="openClient(c)"
      tabindex="0"
      role="button"
      [attr.aria-label]="'Abrir facturas de ' + c.username">

      <div class="card__title">{{ c.username }}</div>

      <div class="card__status" [class.ok]="c.pending === 0" [class.warn]="c.pending > 0">
        <ng-container *ngIf="c.pending > 0; else okTpl">
          {{ c.pending }} factura{{ c.pending === 1 ? '' : 's' }} por corregir
        </ng-container>
        <ng-template #okTpl>Sin facturas por corregir</ng-template>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #emptyTpl>
  <div class="state">No hay clientes para mostrar.</div>
</ng-template>
